import{r as t,h as s,e as i}from"./p-d6a83339.js";import{w as e,a,g as o,f as n,b as h,c as r}from"./p-2e817ac9.js";const c=class{constructor(s){t(this,s),this.dataSvg="",this.url="",this.xRootMargin="50px",this.color="",this.library="crayons",this.lazy=!1,this.setElVisible=!1,this.visible=!1}async componentWillLoad(){this.visible=!this.lazy||this.setElVisible,this.visible&&this.applyIconPropstoState()}connectedCallback(){r(this),this.lazy&&e(this.intersectionObserver,this.xRootMargin,this.el,(()=>{this.setElVisible=!0,this.applyIconPropstoState()}))}nameChangeHandler(){this.applyIconPropstoState()}dataSvgChangeHandler(){this.applyIconPropstoState()}urlChangeHandler(){this.applyIconPropstoState()}disconnectedCallback(){a(this),this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=void 0)}async applyIconPropstoState(){const{name:t,dataSvg:s,library:i}=this;try{if(!t&&s)this.svg=s;else{if(!t)throw console.error("Please provide valid props either 'name' or 'data-svg'.Check the usage docs."),"-invalid props-";{const s=this.getIconUrl(t,i);this.svg=await this.drawIcon(s)}}}catch(e){console.error(e.message),this.loadFallbackImage()}}async drawIcon(t){const{name:s,library:i}=this;try{const e=await o(t);return this.applySVGMutation(i,s,e),e.outerHTML}catch(e){throw new Error(`Exception occured while drawing Icon- ${s} : ${e.message}`)}}redrawIcon(){this.applyIconPropstoState()}async loadFallbackImage(){this.svg=await n(this.getIconUrlfromlib("image","system"))}getIconUrl(t,s){let i="";if(this.url)i=this.url;else if(this.src)i=`${this.src}/${this.name}.svg`;else if(i=this.getIconUrlfromlib(t,s),void 0===i)return void console.error(`Error while resolving url for ${this.name}|${this.library}. Please check the lib registration/resolver function.`);return i}getIconUrlfromlib(t,s){const i=h(s);return t&&i?i.resolver(t):void console.error(`Icon ${t}/${s} not registered.Check the Implementation.`)}applySVGMutation(t,s,i){const e=h(t);e&&e.mutator&&e.mutator(i,s)}render(){const t={},i={"aria-hidden":!0};return"string"==typeof this.label&&this.label.length>0&&(i.role="img",i["aria-label"]=this.label),void 0!==this.size&&(t["--fw-icon-size"]=`${this.size}px`),void 0!==this.color&&(t["--fw-icon-color"]=this.color),s("div",Object.assign({class:"icon"},i,{style:Object.assign({height:` ${this.height}px`,width:`${this.width}px`},t),innerHTML:this.svg}))}static get assetsDirs(){return["icon-assets"]}get el(){return i(this)}static get watchers(){return{name:["nameChangeHandler"],dataSvg:["dataSvgChangeHandler"],url:["urlChangeHandler"]}}};c.style=':host{font-family:var(--fw-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", roboto, oxygen, ubuntu, cantarell, "Open Sans", "Helvetica Neue", sans-serif);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-box-sizing:border-box;box-sizing:border-box}:host{display:inline-block}.icon{display:block;color:var(--fw-icon-color, #12344d);height:var(--fw-icon-size, 12px);width:var(--fw-icon-size, 12px)}.icon svg{display:block;width:100%;height:100%}';export{c as fw_icon}