import{r as t,c as i,h as s,e,F as n}from"./p-d6a83339.js";import{d as o,e as r,i as a,j as h,a as l,r as d,h as c}from"./p-1b31bc77.js";import{T as u}from"./p-f184f1b9.js";import{F as p}from"./p-81db60d6.js";const f=class{constructor(s){t(this,s),this.fwChange=i(this,"fwChange",7),this.fwLoading=i(this,"fwLoading",7),this.isInternalValueChange=!1,this.arrowKeyCounter=0,this.optionRefs=[],this.defaultSearchFunction=(t,i)=>new Promise((s=>{const e=t.toLowerCase();s(""!==e?i.filter((t=>{var i,s;return null===(s=null===(i=t[this.optionLabelPath])||void 0===i?void 0:i.toLowerCase())||void 0===s?void 0:s.includes(e.toLowerCase())})):i)})),this.filteredOptions=[],this.selectOptions=[],this.selectedOptionsState=[],this.isLoading=!1,this.options=[],this.value="",this.max=Number.MAX_VALUE,this.multiple=!1,this.searchable=!1,this.disabled=!1,this.variant="standard",this.checkbox=!1,this.hideTick=!1,this.notFoundText="",this.search=this.defaultSearchFunction,this.searchText="",this.noDataText="",this.debounceTimer=300,this.selectedOptions=[],this.allowDeselect=!0,this.isCreatable=!1,this.allowSelect=!0,this.optionLabelPath="text",this.optionValuePath="value",this.handleSearchWithDebounce=o((t=>{var i;this.isLoading=!0,this.fwLoading.emit({isLoading:this.isLoading});const s=t.trim();s?this.search(s,this.selectOptions).then((t=>{var i;this.filteredOptions=(null==t?void 0:t.length)>0?this.serializeData(t):this.isCreatable?[]:[{[this.optionLabelPath]:this.notFoundText||u.t("search.noItemsFound"),disabled:!0}],this.isCreatable&&!this.filteredOptions.some((t=>t[this.optionValuePath]===s))&&(this.filteredOptions=[{[this.optionLabelPath]:"function"==typeof this.formatCreateLabel?this.formatCreateLabel(s):s,[this.optionValuePath]:s,isNew:!0,graphicsProps:{name:"plus-filled",color:"#2C5CC5",width:16,height:16},variant:"icon",disabled:(null===(i=this.value)||void 0===i?void 0:i.length)>=this.max},...this.filteredOptions]),this.isLoading=!1,this.fwLoading.emit({isLoading:this.isLoading})})):(this.filteredOptions=(null===(i=this.selectOptions)||void 0===i?void 0:i.length)>0?this.selectOptions:[{[this.optionLabelPath]:this.noDataText||u.t("search.noDataAvailable"),disabled:!0}],this.isLoading=!1,this.fwLoading.emit({isLoading:this.isLoading}))}),this,this.debounceTimer)}fwSelectedHandler(t){var i;const{value:s,selected:e}=t.detail;if(e){const t=this.filteredOptions.filter((t=>t[this.optionValuePath]===s))[0];this.isCreatable&&t.isNew&&(t[this.optionLabelPath]=t[this.optionValuePath],"function"==typeof this.validateNewOption&&(t.error=!this.validateNewOption(t[this.optionValuePath])),t.graphicsProps={},t.variant="standard"),this.selectedOptionsState=this.multiple?[...this.selectedOptionsState||[],t]:[t]}else this.selectedOptionsState=this.multiple?null===(i=this.selectedOptionsState)||void 0===i?void 0:i.filter((t=>t[this.optionValuePath]!==s)):[];this.setValue(this.selectedOptionsState)}onKeyDown(t){switch(t.key){case"ArrowDown":this.arrowKeyCounter=a(this.arrowKeyCounter,this.optionRefs.length-1),this.optionRefs[this.arrowKeyCounter].setFocus(),t.preventDefault(),t.stopPropagation();break;case"ArrowUp":this.arrowKeyCounter=r(this.arrowKeyCounter,this.optionRefs.length-1),this.optionRefs[this.arrowKeyCounter].setFocus(),t.preventDefault(),t.stopPropagation()}}async clearFilter(){this.filteredOptions=this.selectOptions,this.searchable&&(this.searchInput.value="")}async scrollToLastSelected(){var t;this.filteredOptions.length>0&&this.valueExists()&&(null===(t=this.container.querySelector(`fw-select-option[id='${this.host.id}-option-${this.getLastSelectedValue()}']`))||void 0===t||t.scrollIntoView({block:"nearest"}))}async getSelectedOptions(){return this.selectedOptionsState}async setSelectedValues(t){var i;this.options&&(this.selectedOptionsState=null===(i=this.options)||void 0===i?void 0:i.filter((i=>this.isValueEqual(t,i))),this.setValue(this.selectedOptionsState))}async setSelectedOptions(t){this.selectedOptionsState=t,this.setValue(t)}async setFocus(){this.optionRefs=[...this.container.getElementsByTagName("fw-select-option")];const t=this.getLastSelectedValue();if(t&&this.optionRefs.length>0){const i=this.optionRefs.findIndex((i=>i.value===t));this.arrowKeyCounter=-1===i?0:i}this.optionRefs[this.arrowKeyCounter].setFocus()}onOptionsChange(t){this.setDataSource(t)}disabledWatcher(){this.options=[...this.options||[]]}onValueChange(t,i){var s;if(!h(t,i)){if(t?this.validateValue(t):t=this.multiple?[]:"",this.selectOptions=this.selectOptions.map((i=>(i.selected=this.isValueEqual(t,i),i))),!this.isInternalValueChange){const i=(null===(s=this.options)||void 0===s?void 0:s.length)>0?this.options:this.selectedOptionsState;this.selectedOptionsState=null==i?void 0:i.filter((i=>this.isValueEqual(t,i)))}this.fwChange.emit({value:t,meta:{selectedOptions:this.selectedOptionsState}}),this.isInternalValueChange=!1}}onFilterTextChange(t){this.handleSearchWithDebounce(t)}onSelectedOptionsChange(t){this.setSelectedOptions(t)}valueExists(){return this.multiple?this.value.length>0:!!this.value}validateValue(t){if(this.multiple&&!Array.isArray(t))throw new Error("Value must be a array for multi-select");if(!this.multiple&&"string"!=typeof t&&"number"!=typeof t&&"bigint"!=typeof t)throw new Error("Value must be a string or number or bigint for single-select")}getLastSelectedValue(){if(this.valueExists())return this.multiple?this.value.slice(-1)[0]:this.value}setSelectedOptionsByValue(t){var i;if(!this.options)throw new Error("Options must be passed if value is set");this.selectedOptionsState=null===(i=this.options)||void 0===i?void 0:i.filter((i=>this.isValueEqual(t,i)))}serializeData(t){return t.map((t=>{var i,s;const e=this.isValueEqual(this.value,t)||t.selected,n=(null===(s=null===(i=this.selectedOptionsState)||void 0===i?void 0:i.find((i=>i[this.optionValuePath]===t[this.optionValuePath])))||void 0===s?void 0:s.disabled)||t.disabled||this.disabled;return Object.assign(Object.assign({},t),{checkbox:t.checkbox||this.checkbox,hideTick:t.hideTick||this.hideTick,variant:t.variant||this.variant,selected:e,disabled:n,allowDeselect:this.allowDeselect})}))}isValueEqual(t,i){return this.multiple?t.includes(i[this.optionValuePath]):t===i[this.optionValuePath]}setValue(t){let i;i=(null==t?void 0:t.length)>0?this.multiple?t.map((t=>t[this.optionValuePath])):t[0][this.optionValuePath]:this.multiple?[]:"",h(this.value,i)||(this.isInternalValueChange=!0,this.value=i)}setDataSource(t){this.selectOptions=(null==t?void 0:t.length)>0?this.serializeData(t):[{[this.optionLabelPath]:this.noDataText||u.t("search.noDataAvailable"),disabled:!0}],this.filteredOptions=this.selectOptions}renderSelectOptions(t){return t.map((t=>{var i,e,n;const o=(null===(e=null===(i=this.selectedOptionsState)||void 0===i?void 0:i.find((i=>i[this.optionValuePath]===t[this.optionValuePath])))||void 0===e?void 0:e.disabled)||t.disabled||!this.allowDeselect&&t.selected||this.multiple&&!t.selected&&(null===(n=this.value)||void 0===n?void 0:n.length)>=this.max,r=[this.noDataText,u.t("search.noDataAvailable"),this.notFoundText,u.t("search.noItemsFound")].includes(t[this.optionLabelPath]);return s("fw-select-option",Object.assign({id:`${this.host.id}-option-${t[this.optionValuePath]}`,key:t[this.optionValuePath],allowSelect:this.allowSelect},t,{text:t[this.optionLabelPath],value:t[this.optionValuePath],disabled:o,checkbox:!r&&(this.checkbox||t.checkbox)}))}))}renderSearchInput(){return s("fw-input",{class:"input-search",ref:t=>this.searchInput=t,placeholder:this.searchText||u.t("search.search"),onInput:()=>this.handleSearchWithDebounce(this.searchInput.value)})}componentWillLoad(){var t;if(this.validateValue(this.value),(null===(t=this.selectedOptions)||void 0===t?void 0:t.length)>0?(this.selectedOptionsState=this.selectedOptions,this.value=this.multiple?this.selectedOptionsState.map((t=>t[this.optionValuePath])):this.selectedOptionsState[0][this.optionValuePath]):this.valueExists()?this.setSelectedOptionsByValue(this.value):this.setValue([]),this.multiple&&"string"==typeof this.value)throw Error("value must be a array of string when multiple is true");this.setDataSource(this.options)}render(){return s("div",{class:"container",ref:t=>{this.container=t}},this.searchable&&this.renderSearchInput(),this.renderSelectOptions(this.filteredOptions))}get host(){return e(this)}static get watchers(){return{options:["onOptionsChange"],disabled:["disabledWatcher"],value:["onValueChange"],filterText:["onFilterTextChange"],selectedOptions:["onSelectedOptionsChange"]}}};f.style=':host{font-family:var(--fw-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", roboto, oxygen, ubuntu, cantarell, "Open Sans", "Helvetica Neue", sans-serif);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-box-sizing:border-box;box-sizing:border-box}.container{margin:0px;-webkit-padding-after:8px;padding-block-end:8px;padding-inline:8px;-webkit-padding-before:12px;padding-block-start:12px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.input-search{-webkit-margin-after:4px;margin-block-end:4px}';var b="object"==typeof global&&global&&global.Object===Object&&global,v="object"==typeof self&&self&&self.Object===Object&&self,g=b||v||Function("return this")(),x=g.Symbol,w=Object.prototype,m=w.hasOwnProperty,y=w.toString,k=x?x.toStringTag:void 0,O=Object.prototype.toString,S=x?x.toStringTag:void 0;function $(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":S&&S in Object(t)?function(t){var i=m.call(t,k),s=t[k];try{t[k]=void 0;var e=!0}catch(o){}var n=y.call(t);return e&&(i?t[k]=s:delete t[k]),n}(t):function(t){return O.call(t)}(t)}var C=/\s/,j=/^\s+/;function T(t){var i=typeof t;return null!=t&&("object"==i||"function"==i)}var z=/^[-+]0x[0-9a-f]+$/i,_=/^0b[01]+$/i,F=/^0o[0-7]+$/i,I=parseInt;function D(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return null!=t&&"object"==typeof t}(t)&&"[object Symbol]"==$(t)}(t))return NaN;if(T(t)){var i="function"==typeof t.valueOf?t.valueOf():t;t=T(i)?i+"":i}if("string"!=typeof t)return 0===t?t:+t;var s;t=(s=t)?s.slice(0,function(t){for(var i=t.length;i--&&C.test(t.charAt(i)););return i}(s)+1).replace(j,""):s;var e=_.test(t);return e||F.test(t)?I(t.slice(2),e?2:8):z.test(t)?NaN:+t}function N(t){return t?1/0===(t=D(t))||-1/0===t?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function E(t){if(!T(t))return!1;var i=$(t);return"[object Function]"==i||"[object GeneratorFunction]"==i||"[object AsyncFunction]"==i||"[object Proxy]"==i}var A,L=g["__core-js_shared__"],V=(A=/[^.]+$/.exec(L&&L.keys&&L.keys.IE_PROTO||""))?"Symbol(src)_1."+A:"",P=Function.prototype.toString,B=/^\[object .+?Constructor\]$/,H=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function W(t,i){var s=function(t,i){return null==t?void 0:t[i]}(t,i);return function(t){return!(!T(t)||(i=t,V&&V in i))&&(E(t)?H:B).test(function(t){if(null!=t){try{return P.call(t)}catch(i){}try{return t+""}catch(i){}}return""}(t));var i}(s)?s:void 0}function U(t){return t!=t}function K(t,i){return!(null==t||!t.length)&&function(t,i){return i==i?function(t,i){for(var s=-1,e=t.length;++s<e;)if(t[s]===i)return s;return-1}(t,i):function(t,i){for(var s=t.length,e=-1;++e<s;)if(i(t[e],e,t))return e;return-1}(t,U)}(t,i)>-1}var M=/^(?:0|[1-9]\d*)$/;function R(t,i){return t===i||t!=t&&i!=i}var q=W(Object,"create"),J=Object.prototype.hasOwnProperty,G=Object.prototype.hasOwnProperty;function Q(t){var i=-1,s=null==t?0:t.length;for(this.clear();++i<s;){var e=t[i];this.set(e[0],e[1])}}function X(t,i){for(var s=t.length;s--;)if(R(t[s][0],i))return s;return-1}Q.prototype.clear=function(){this.__data__=q?q(null):{},this.size=0},Q.prototype.delete=function(t){var i=this.has(t)&&delete this.__data__[t];return this.size-=i?1:0,i},Q.prototype.get=function(t){var i=this.__data__;if(q){var s=i[t];return"__lodash_hash_undefined__"===s?void 0:s}return J.call(i,t)?i[t]:void 0},Q.prototype.has=function(t){var i=this.__data__;return q?void 0!==i[t]:G.call(i,t)},Q.prototype.set=function(t,i){var s=this.__data__;return this.size+=this.has(t)?0:1,s[t]=q&&void 0===i?"__lodash_hash_undefined__":i,this};var Y=Array.prototype.splice;function Z(t){var i=-1,s=null==t?0:t.length;for(this.clear();++i<s;){var e=t[i];this.set(e[0],e[1])}}Z.prototype.clear=function(){this.__data__=[],this.size=0},Z.prototype.delete=function(t){var i=this.__data__,s=X(i,t);return!(s<0||(s==i.length-1?i.pop():Y.call(i,s,1),--this.size,0))},Z.prototype.get=function(t){var i=this.__data__,s=X(i,t);return s<0?void 0:i[s][1]},Z.prototype.has=function(t){return X(this.__data__,t)>-1},Z.prototype.set=function(t,i){var s=this.__data__,e=X(s,t);return e<0?(++this.size,s.push([t,i])):s[e][1]=i,this};var tt=W(g,"Map");function it(t,i){var s,e,n=t.__data__;return("string"==(e=typeof(s=i))||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==s:null===s)?n["string"==typeof i?"string":"hash"]:n.map}function st(t){var i=-1,s=null==t?0:t.length;for(this.clear();++i<s;){var e=t[i];this.set(e[0],e[1])}}st.prototype.clear=function(){this.size=0,this.__data__={hash:new Q,map:new(tt||Z),string:new Q}},st.prototype.delete=function(t){var i=it(this,t).delete(t);return this.size-=i?1:0,i},st.prototype.get=function(t){return it(this,t).get(t)},st.prototype.has=function(t){return it(this,t).has(t)},st.prototype.set=function(t,i){var s=it(this,t),e=s.size;return s.set(t,i),this.size+=s.size==e?0:1,this};var et=W(g,"Set");function nt(t){var i=-1,s=null==t?0:t.length;for(this.__data__=new st;++i<s;)this.add(t[i])}function ot(t,i){return t.has(i)}function rt(t){var i=-1,s=Array(t.size);return t.forEach((function(t){s[++i]=t})),s}nt.prototype.add=nt.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},nt.prototype.has=function(t){return this.__data__.has(t)};var at=Math.ceil,ht=Math.max,lt=function(t,i,s){return s&&"number"!=typeof s&&function(t,i,s){if(!T(s))return!1;var e=typeof i;return!!("number"==e?function(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}(t.length)&&!E(t)}(s)&&function(t,i){var s=typeof t;return!!(i=null==i?9007199254740991:i)&&("number"==s||"symbol"!=s&&M.test(t))&&t>-1&&t%1==0&&t<i}(i,s.length):"string"==e&&i in s)&&R(s[i],t)}(t,i,s)&&(i=s=void 0),t=N(t),void 0===i?(i=t,t=0):i=N(i),function(t,i,s){for(var e=-1,n=ht(at((i-t)/(s||1)),0),o=Array(n);n--;)o[++e]=t,t+=s;return o}(t,i,s=void 0===s?t<i?1:-1:N(s))},dt=et&&1/rt(new et([,-0]))[1]==1/0?function(t){return new et(t)}:function(){};const ct=class{constructor(s){t(this,s),this.fwChange=i(this,"fwChange",7),this.fwFocus=i(this,"fwFocus",7),this.fwBlur=i(this,"fwBlur",7),this.tagArrowKeyCounter=0,this.changeEmittable=()=>!this.disabled,this.innerOnFocus=t=>{this.changeEmittable()&&(this.hasFocus=!0,this.fwFocus.emit(t),this.focusedValues=[])},this.innerOnClick=()=>{var t,i;this.changeEmittable()&&(this.setFocus(),this.multiple||null===(i=null===(t=this.selectInput)||void 0===t?void 0:t.select)||void 0===i||i.call(t),"mail"!==this.variant&&this.openDropdown(),this.focusedValues=[])},this.innerOnBlur=t=>{this.changeEmittable()&&(this.hasFocus=!1,this.fwBlur.emit({event:t,name:this.name}))},this.openDropdown=()=>{!this.isExpanded&&this.changeEmittable()&&this.popoverRef.show()},this.closeDropdown=()=>{this.isExpanded&&this.changeEmittable()&&this.popoverRef.hide()},this.isExpanded=!1,this.hasFocus=!1,this.selectedOptionsState=[],this.isLoading=!1,this.focusedOptionId="",this.hasHintTextSlot=!1,this.hasWarningTextSlot=!1,this.hasErrorTextSlot=!1,this.focusedValues=[],this.label="",this.name="",this.type="text",this.state="normal",this.readonly=!1,this.required=!1,this.forceSelect=!0,this.disabled=!1,this.multiple=!1,this.max=Number.MAX_VALUE,this.variant="standard",this.optionsVariant="standard",this.searchable=!0,this.checkbox=!1,this.notFoundText="",this.noDataText="",this.debounceTimer=300,this.selectedOptions=[],this.sameWidth=!0,this.optionsPlacement="bottom",this.fallbackPlacements=["top"],this.tagVariant="standard",this.caret=!0,this.labelledBy="",this.allowDeselect=!0,this.hintText="",this.warningText="",this.errorText="",this.creatableProps={isCreatable:!1,validateNewOption:()=>!0,formatCreateLabel:t=>t},this.hoist=!1,this.optionLabelPath="text",this.optionValuePath="value",this.maxHeight="none",this.matchValueWithOptions=()=>{var t;if((null===(t=this.dataSource)||void 0===t?void 0:t.length)>0){const t=this.dataSource.filter((t=>this.isValueEqual(this.value,t))),i=t.map((t=>t[this.optionValuePath])),s=this.multiple?i:i[0];h(this.value,s)||(this.value=s||(this.multiple?[]:"")),JSON.stringify(this.selectedOptionsState)!==JSON.stringify(t)&&(this.selectedOptionsState=t)}else this.value=this.multiple?[]:"";this.renderInput()},this.tagContainerKeyDown=t=>{var i,s,e,n,o;if(this.changeEmittable())switch(t.key){case"Escape":this.innerOnBlur(t),this.closeDropdown();break;case"Delete":case"Backspace":this.deleteFocusedTags();break;case"ArrowLeft":0===(null===(i=this.focusedValues)||void 0===i?void 0:i.length)?this.focusOnTagContainer():this.tagArrowKeyCounter-1>=0?(null===(s=this.selectedOptionsState[this.tagArrowKeyCounter-1])||void 0===s?void 0:s.disabled)||(this.tagArrowKeyCounter--,this.focusOnTag(this.tagArrowKeyCounter)):this.tagArrowKeyCounter=0,t.stopImmediatePropagation();break;case"ArrowRight":this.tagArrowKeyCounter+1>=(null===(e=this.value)||void 0===e?void 0:e.length)?null===(n=this.selectInput)||void 0===n||n.focus():this.tagArrowKeyCounter<=(null===(o=this.value)||void 0===o?void 0:o.length)&&(this.tagArrowKeyCounter++,this.focusOnTag(this.tagArrowKeyCounter)),t.stopImmediatePropagation()}}}onDropdownClose(t){var i;"select-popover"===t.composedPath()[0].id&&(this.clearInput(),this.isExpanded=!1,this.multiple&&(null===(i=this.selectInput)||void 0===i||i.focus()))}onDropdownOpen(t){"select-popover"===t.composedPath()[0].id&&(this.isExpanded=!0)}onLoading(t){var i,s;this.isLoading=t.detail.isLoading,"mail"!==this.variant||this.isLoading||(null===(s=null===(i=this.selectInput)||void 0===i?void 0:i.value)||void 0===s?void 0:s.trim())&&this.openDropdown()}fwSelectedHandler(t){var i,s,e;"FW-LIST-OPTIONS"===t.composedPath()[0].tagName&&(this.selectedOptionsState=null===(s=null===(i=t.detail)||void 0===i?void 0:i.meta)||void 0===s?void 0:s.selectedOptions,this.value=t.detail.value,this.renderInput(),this.multiple&&"mail"!==this.variant||this.closeDropdown(),t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault(),(null===(e=this.selectedOptionsState)||void 0===e?void 0:e.length)>0?this.fwChange.emit({name:this.name,value:this.value,meta:{selectedOptions:this.selectedOptionsState}}):this.fwChange.emit({name:this.name,value:this.value,meta:{shouldValidate:!1,selectedOptions:this.selectedOptionsState}}))}fwCloseHandler(t){var i;this.setSelectedOptions(null===(i=this.selectedOptionsState)||void 0===i?void 0:i.filter(((i,s)=>s!==t.detail.index))),this.focusOnTagContainer()}onKeyDown(t){var i,s,e;if(this.changeEmittable())switch(t.key){case"ArrowDown":this.innerOnClick(),this.fwListOptions.setFocus(),t.preventDefault(),t.stopPropagation();break;case"Delete":case"Backspace":!this.readonly&&this.multiple&&(this.deleteFocusedTags(),0===this.focusedValues.length&&""===(null===(i=this.selectInput)||void 0===i?void 0:i.value)&&this.focusOnTagContainer());break;case"Escape":this.innerOnBlur(t),this.closeDropdown();break;case"Tab":this.focusedValues=[],this.closeDropdown();break;case"a":case"A":!this.readonly&&this.multiple&&(t.ctrlKey||t.metaKey)&&(!this.searchValue||this.focusedValues.length>0)&&(t.preventDefault(),t.stopPropagation(),null===(s=this.tagContainer)||void 0===s||s.focus(),this.focusedValues=null===(e=this.selectedOptionsState)||void 0===e?void 0:e.reduce(((t,i,s)=>(!i.disabled&&t.push(s),t)),[]))}}onOptionFocus(t){"FW-SELECT-OPTION"===t.composedPath()[0].tagName&&(this.focusedOptionId=t.detail.id)}onOptionBlur(t){"FW-SELECT-OPTION"===t.composedPath()[0].tagName&&(this.focusedOptionId="")}optionsChangedHandler(){this.renderInput()}onOptionsChange(t){var i;const s=null==t?void 0:t.filter((t=>t.selected));(null==s?void 0:s.length)>0?(this.selectedOptionsState=s,this.value=this.multiple?this.selectedOptionsState.map((t=>t[this.optionValuePath])):null===(i=this.selectedOptionsState[0])||void 0===i?void 0:i[this.optionValuePath],this.dataSource=t):this.valueExists()?(this.dataSource=t,this.matchValueWithOptions()):(this.value=this.multiple?[]:"",this.selectedOptionsState=[],this.dataSource=t)}onSelectedOptionsChange(t){this.setSelectedOptions(t)}async getSelectedItem(){var t;return null===(t=this.fwListOptions)||void 0===t?void 0:t.getSelectedOptions()}async setSelectedValues(t){var i;null===(i=this.fwListOptions)||void 0===i||i.setSelectedValues(t),this.renderInput()}async setSelectedOptions(t){var i;null===(i=this.fwListOptions)||void 0===i||i.setSelectedOptions(t),this.renderInput()}async setFocus(){var t;this.hasFocus=!0,null===(t=this.selectInput)||void 0===t||t.focus()}async showDropdown(){this.openDropdown()}async hideDropdown(){this.closeDropdown()}deleteFocusedTags(){var t;this.focusedValues.length>0&&(this.setSelectedOptions(null===(t=this.selectedOptionsState)||void 0===t?void 0:t.filter(((t,i)=>!this.focusedValues.includes(i)))),this.focusedValues=[])}focusOnTagContainer(){var t,i,s;Array.isArray(this.value)&&!(null===(i=this.selectedOptionsState[(null===(t=this.value)||void 0===t?void 0:t.length)-1])||void 0===i?void 0:i.disabled)&&(this.tagArrowKeyCounter=(null===(s=this.value)||void 0===s?void 0:s.length)-1,this.focusOnTag(this.tagArrowKeyCounter))}focusOnTag(t){var i;(null===(i=this.selectedOptionsState[t])||void 0===i?void 0:i.disabled)||(this.focusedValues=[t],this.tagContainer.focus())}clearInput(){this.multiple||!this.value?(this.searchValue="",this.selectInput&&(this.selectInput.value="")):this.renderInput()}isValueEqual(t,i){return this.multiple?t.includes(i[this.optionValuePath]):t===i[this.optionValuePath]}valueExists(){var t;return this.value&&(this.multiple?(null===(t=this.value)||void 0===t?void 0:t.length)>0:!!this.value)}onInput(){var t,i;this.changeEmittable()&&(this.searchValue=null===(t=this.selectInput)||void 0===t?void 0:t.value,(null===(i=this.selectInput)||void 0===i?void 0:i.value)?"mail"!==this.variant&&this.openDropdown():(this.multiple||this.setSelectedValues(""),"mail"===this.variant&&this.closeDropdown()),this.focusedValues=[])}onClickTag(t,i){var s,e;if(this.changeEmittable()&&(t.stopPropagation(),this.tagContainer.focus(),!(null===(s=this.selectedOptionsState[i])||void 0===s?void 0:s.disabled))){const s=this.focusedValues.indexOf(i);if(-1===s)if(t.ctrlKey||t.metaKey)this.focusedValues=[...this.focusedValues,i];else if(t.shiftKey&&this.focusedValues.length>0){const t=this.focusedValues[this.focusedValues.length-1];this.focusedValues=(e=[...this.focusedValues,...lt(t,i>t?i+1:i-1)])&&e.length?function(t,i,s){var e=-1,n=K,o=t.length,r=!0,a=[],h=a;if(o>=200){var l=dt(t);if(l)return rt(l);r=!1,n=ot,h=new nt}else h=a;t:for(;++e<o;){var d=t[e],c=d;if(d=0!==d?d:0,r&&c==c){for(var u=h.length;u--;)if(h[u]===c)continue t;a.push(d)}else n(h,c,s)||(h!==a&&h.push(c),a.push(d))}return a}(e):[]}else this.focusedValues=[i];else t.ctrlKey||t.metaKey?this.focusedValues=this.focusedValues.filter(((t,i)=>i!==s)):t.shiftKey||(this.focusedValues=[i])}}renderTags(){var t;if(this.multiple&&Array.isArray(this.value))return null===(t=this.selectedOptionsState)||void 0===t?void 0:t.map(((t,i)=>{if(this.isValueEqual(this.value,t)){const e=this.disabled||t.disabled?"tag-disabled":"tag-clickable",n="mail"===this.variant?{text:t[this.optionValuePath],showEllipsisOnOverflow:!0,class:e+" bold-tag"}:{text:t[this.optionLabelPath],subText:t.subText};return s("fw-tag",Object.assign({index:i,class:e,state:t.error||"mail"===this.variant&&i>=this.max?"error":"normal",variant:this.tagVariant,graphicsProps:t.graphicsProps,disabled:this.disabled||t.disabled,value:t[this.optionValuePath],focusable:!1,closable:!this.disabled&&!t.disabled,isFocused:this.focusedValues.includes(i),onClick:t=>this.onClickTag(t,i)},n))}}))}renderButtonValue(){var t,i,e,n,o,r,a;return"avatar"===this.tagVariant&&(null===(t=this.selectedOptionsState[0])||void 0===t?void 0:t[this.optionValuePath])?s("fw-tag",{class:"display-tag",state:"transparent",variant:"avatar",graphicsProps:null===(i=this.selectedOptionsState[0])||void 0===i?void 0:i.graphicsProps,text:null===(e=this.selectedOptionsState[0])||void 0===e?void 0:e[this.optionLabelPath],subText:(null===(n=this.selectedOptionsState[0])||void 0===n?void 0:n.subText)?`<${null===(o=this.selectedOptionsState[0])||void 0===o?void 0:o.subText}>`:"",disabled:null===(r=this.selectedOptionsState[0])||void 0===r?void 0:r.disabled,value:null===(a=this.selectedOptionsState[0])||void 0===a?void 0:a[this.optionValuePath],focusable:!1,closable:!1,showEllipsisOnOverflow:!0}):this.value}renderInput(){var t;(null===(t=this.selectedOptionsState)||void 0===t?void 0:t.length)>0?this.selectInput&&(this.selectInput.value="",this.selectInput.value=this.multiple?this.selectInput.value:this.selectedOptionsState[0][this.optionLabelPath]||""):this.selectInput&&(this.selectInput.value="")}renderSelectInput(){return s("input",{ref:t=>this.selectInput=t,class:{"multiple-select":this.multiple},autoComplete:"off",disabled:this.disabled,name:this.name,id:this.name,placeholder:this.valueExists()?"":this.placeholder||"",readOnly:this.readonly,required:this.required,type:this.type,value:"","aria-autocomplete":"list","aria-activedescendant":this.focusedOptionId,onInput:()=>this.onInput(),onFocus:t=>this.innerOnFocus(t),onBlur:t=>this.innerOnBlur(t),"aria-invalid":"error"===this.state,"aria-describedby":`hint-${this.name} error-${this.name}`,onPaste:t=>this.onPaste(t),"aria-disabled":this.disabled})}onClickOutside(t){!t.composedPath().includes(this.host)&&this.focusedValues.length>0&&(this.focusedValues=[])}componentWillLoad(){var t,i,s,e,n,o,r,a;this.boundary||(this.boundary=this.host.parentElement),this.checkSlotContent(),"mail"===this.variant&&(this.caret=!1,this.multiple=!0);const h=Array.from(this.host.querySelectorAll("fw-select-option"));if((null===(t=this.selectedOptions)||void 0===t?void 0:t.length)>0&&(this.selectedOptionsState=this.selectedOptions,this.value=this.multiple?this.selectedOptions.map((t=>t[this.optionValuePath])):this.selectedOptions[0][this.optionValuePath]),this.multiple){if(this.multiple&&"string"==typeof this.value)throw Error("value must be a array of string when multiple is true");this.value=(null===(i=this.value)||void 0===i?void 0:i.length)>0?this.value:[]}else this.value=this.value?this.value:"";const l=h.map((t=>({html:t.html,[this.optionLabelPath]:t.html?t.optionText:t.textContent,[this.optionValuePath]:t.value,selected:this.isValueEqual(this.value,t)||t.selected,disabled:t.disabled,htmlContent:t.html?t.innerHTML:""})));if(this.dataSource=0===l.length?this.options:l,!this.multiple&&this.value&&0===(null===(s=this.selectedOptions)||void 0===s?void 0:s.length)?this.selectedOptionsState=null===(e=this.dataSource)||void 0===e?void 0:e.filter((t=>this.value===t[this.optionValuePath])):this.multiple&&(null===(n=this.value)||void 0===n?void 0:n.length)!==(null===(o=this.selectedOptions)||void 0===o?void 0:o.length)&&(this.selectedOptionsState=null===(r=this.dataSource)||void 0===r?void 0:r.filter((t=>this.isValueEqual(this.value,t)))),(null===(a=this.dataSource)||void 0===a?void 0:a.length)>0){const t=this.dataSource.filter((t=>t.selected)),i=t.map((t=>t[this.optionValuePath])),s=this.multiple?i:i[0];i.length>0&&JSON.stringify(this.value)!==JSON.stringify(s)&&(this.value=s,this.selectedOptionsState=t)}this.host.addEventListener("focus",this.setFocus),this.hostId=this.host.id||"",document.addEventListener("mouseup",this.onClickOutside.bind(this))}componentDidLoad(){this.renderInput()}disconnectedCallback(){this.host.removeEventListener("focus",this.setFocus),document.removeEventListener("mouseup",this.onClickOutside.bind(this))}expandWatcher(t){var i,s,e,n;if("button"===this.variant){const o=null===(n=null===(e=null===(s=null===(i=this.host.shadowRoot)||void 0===i?void 0:i.querySelector(".select-container"))||void 0===s?void 0:s.querySelector("fw-button"))||void 0===e?void 0:e.shadowRoot)||void 0===n?void 0:n.querySelector("fw-icon");o&&(o.name=t?"chevron-up":"chevron-down")}}checkSlotContent(){this.hasHintTextSlot=l(this.host,"hint-text"),this.hasWarningTextSlot=l(this.host,"warning-text"),this.hasErrorTextSlot=l(this.host,"error-text")}getAriaDescribedBy(){return"normal"===this.state?`hint-${this.name}`:"error"===this.state?`error-${this.name}`:"warning"===this.state?`warning-${this.name}`:null}onPaste(t){var i;if(null===(i=this.creatableProps)||void 0===i?void 0:i.isCreatable){const i=(null==t?void 0:t.clipboardData)||window.clipboardData,s=null==i?void 0:i.getData("Text");if(s.includes("\n")||s.includes(",")){t.stopPropagation(),t.preventDefault();const i=s.split(/[\n,]/),e=[];i.forEach((t=>{var i,s;const n=t.trim();n&&e.push({[this.optionLabelPath]:n,[this.optionValuePath]:n,error:"function"==typeof(null===(i=this.creatableProps)||void 0===i?void 0:i.validateNewOption)&&!(null===(s=this.creatableProps)||void 0===s?void 0:s.validateNewOption(n))})})),e.length>0&&this.setSelectedOptions([...this.selectedOptionsState,...e])}}}render(){const{host:t,name:i,value:e}=this;d(t,i,e);const o=Object.assign(Object.assign({},this.creatableProps),"mail"===this.variant?{}:{max:this.max});return s(p,{inputId:this.name,label:this.label,labelId:`${this.label}-${this.name}`,state:this.state,hintTextId:`hint-${this.name}`,hintText:this.hintText,hasHintTextSlot:this.hasHintTextSlot,errorTextId:`error-${this.name}`,errorText:this.errorText,hasErrorTextSlot:this.hasErrorTextSlot,warningTextId:`warning-${this.name}`,warningText:this.warningText,hasWarningTextSlot:this.hasWarningTextSlot,required:this.required},s("div",{"aria-disabled":this.disabled,class:{"has-focus":this.hasFocus}},s("div",{class:{"select-container":!0,[this.state]:!0},role:"combobox","aria-controls":`${this.hostId}-listbox`,"aria-haspopup":"listbox","aria-expanded":this.isExpanded,"aria-owns":`${this.hostId}-listbox`},s("fw-popover",{id:"select-popover",distance:"8",trigger:"manual",ref:t=>this.popoverRef=t,sameWidth:this.sameWidth,placement:this.optionsPlacement,fallbackPlacements:this.fallbackPlacements,boundary:this.boundary,hoist:this.hoist},s("div",{slot:"popover-trigger",class:{"input-container":"button"!==this.variant,[this.state]:!0,"select-disabled":this.disabled,"button-container":"button"===this.variant},onClick:()=>this.innerOnClick(),onKeyDown:c(this.innerOnClick,!0)},"button"===this.variant?s("fw-button",{style:{"--fw-button-label-vertical-padding":"7px"},"show-caret-icon":!0,id:`${this.hostId}-btn`,color:"avatar"===this.tagVariant?"text":"secondary",class:this.host.classList.value.includes("first")?"fw-button-group__button--first":this.host.classList.value.includes("last")?"fw-button-group__button--last":"","aria-disabled":this.disabled,disabled:this.disabled},this.renderButtonValue()):s(n,null,s("div",{class:"input-container-inner"},this.multiple?s("div",{class:`tag-container ${this.tagVariant}`,onFocus:this.focusOnTagContainer,ref:t=>this.tagContainer=t,onKeyDown:this.tagContainerKeyDown,tabIndex:-1,style:{"max-height":this.maxHeight}},this.renderTags(),this.renderSelectInput()):this.renderSelectInput()),this.isLoading?s("fw-spinner",{size:"small"}):this.caret&&s("span",{class:{"dropdown-status-icon":!0,expanded:this.isExpanded,disabled:this.disabled}},s("fw-icon",{name:"chevron-down",size:8,library:"system"})))),s("fw-list-options",Object.assign({ref:t=>this.fwListOptions=t,id:`${this.hostId}-listbox`,role:"listbox","aria-labelledby":this.labelledBy||`${this.hostId}-label`,notFoundText:this.notFoundText||u.t("search.noItemsFound"),debounceTimer:this.debounceTimer,noDataText:this.noDataText||u.t("search.noDataAvailable"),search:this.search,selectedOptions:this.selectedOptionsState,variant:this.optionsVariant,"filter-text":this.searchValue,options:this.dataSource,value:this.value,multiple:this.multiple,disabled:this.disabled,checkbox:this.checkbox,allowDeselect:this.allowDeselect,slot:"popover-content",optionLabelPath:this.optionLabelPath,optionValuePath:this.optionValuePath},o))))))}get host(){return e(this)}static get watchers(){return{dataSource:["optionsChangedHandler"],options:["onOptionsChange"],selectedOptions:["onSelectedOptionsChange"],isExpanded:["expandWatcher"]}}};ct.style=':host{font-family:var(--fw-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", roboto, oxygen, ubuntu, cantarell, "Open Sans", "Helvetica Neue", sans-serif);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-box-sizing:border-box;box-sizing:border-box}.field-control{position:relative}.field-control-label{display:block;font-size:12px;color:var(--fw-label-color, #475867);font-weight:600;-webkit-margin-after:4px;margin-block-end:4px;-webkit-padding-start:2px;padding-inline-start:2px;line-height:20px}.field-control-label.required::after{content:"*";position:relative;display:inline-block;inset-block-start:2px;font-size:14px;color:#d72d30;-webkit-padding-start:2px;padding-inline-start:2px;font-weight:700}.field-control-hint-text{font-family:-apple-system, blinkmacsystemfont, "Segoe UI", "Roboto", "Helvetica Neue", arial, sans-serif;font-size:12px;line-height:20px;-webkit-margin-before:4px;margin-block-start:4px;-webkit-margin-after:0;margin-block-end:0;color:var(--fw-hint-color, #acb6be);position:inherit;display:block;-webkit-padding-start:2px;padding-inline-start:2px;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.field-control-error-text{font-family:-apple-system, blinkmacsystemfont, "Segoe UI", "Roboto", "Helvetica Neue", arial, sans-serif;font-size:12px;line-height:20px;-webkit-margin-before:4px;margin-block-start:4px;-webkit-margin-after:0;margin-block-end:0;color:var(--fw-error-color, #d72d30);position:inherit;display:block;-webkit-padding-start:2px;padding-inline-start:2px;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.field-control-warning-text{font-family:-apple-system, blinkmacsystemfont, "Segoe UI", "Roboto", "Helvetica Neue", arial, sans-serif;font-size:12px;line-height:20px;-webkit-margin-before:4px;margin-block-start:4px;-webkit-margin-after:0;margin-block-end:0;color:var(--fw-warning-color, #f8ab59);position:inherit;display:block;-webkit-padding-start:2px;padding-inline-start:2px;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}@media screen and (prefers-reduced-motion: reduce){.input-container{-webkit-transition:none;transition:none}}:host{display:block}.button-container{display:-ms-flexbox;display:flex}.button-container fw-button{display:-ms-flexbox;display:flex;min-width:0}.button-container .display-tag{display:-ms-flexbox;display:flex;min-width:0}.input-container{width:calc(100% - 12px);border:var(--fw-select-border, 1px solid #cfd7df);border-radius:var(--fw-select-border-radius, 4px);-webkit-padding-start:10px;padding-inline-start:10px;background-color:#fff;-webkit-box-shadow:none;box-shadow:none;min-height:22px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transition:all 0.3s ease;transition:all 0.3s ease}.input-container .input-container-inner{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-wrap:wrap;flex-wrap:wrap;min-width:0}.input-container .input-container-inner .tag-container{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;min-width:inherit;-ms-flex-positive:1;flex-grow:1;overflow-y:auto;}.input-container .input-container-inner .tag-container.avatar{min-height:40px}.input-container .input-container-inner .tag-container:active,.input-container .input-container-inner .tag-container:focus,.input-container .input-container-inner .tag-container:focus-visible{outline:0}.input-container .input-container-inner .tag-container fw-tag{-webkit-margin-start:0px;margin-inline-start:0px;-webkit-margin-after:4px;margin-block-end:4px;-webkit-margin-end:4px;margin-inline-end:4px;-webkit-margin-before:4px;margin-block-start:4px;display:-ms-flexbox;display:flex;min-width:inherit}.input-container .input-container-inner input{-ms-flex-positive:1;flex-grow:1;width:100px;border:none;font-family:inherit;font-size:14px;font-weight:500;letter-spacing:0;line-height:1.4;background-color:#fff;min-width:20px;min-height:22px;-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;margin-inline:0px;margin-block:4px}.input-container .input-container-inner input:focus{border:none;outline:none}.input-container .input-container-inner input.multi-select{width:auto}.input-container .input-container-inner input:disabled{color:#92a2b1;background-color:#f5f7f9 !important;border-color:transparent;pointer-events:none}.input-container fw-spinner{-webkit-margin-end:8px;margin-inline-end:8px}.input-container:hover,.input-container:focus{border:1px #475867 solid}.input-container.error{border-color:#d72d30}.input-container.error.has-focus{-webkit-box-shadow:none;box-shadow:none;border-color:#d72d30}.input-container.error:hover,.input-container.error:focus{border-color:#d72d30}.input-container.error+.help-block{color:#d72d30}.input-container.warning{border-color:#f8ab59}.input-container.warning.has-focus{-webkit-box-shadow:none;box-shadow:none;border-color:#f8ab59}.input-container.warning:hover,.input-container.warning:focus{border-color:#f8ab59}.input-container.warning+.help-block{color:#f8ab59}.input-container.select-disabled{color:#92a2b1;border:var(--fw-select-border, 1px solid #ebeff3);background-color:#f5f7f9 !important;border-style:solid;cursor:not-allowed}.input-container.select-disabled:hover,.input-container.select-disabled:focus{border:1px solid #ebeff3}.tag-container .bold-tag{font-weight:600}.tag-container .tag-clickable{cursor:pointer;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.tag-container .tag-disabled{cursor:not-allowed;pointer-events:none}.has-focus .input-container{outline:none;background:#fff;border:1px solid transparent;-webkit-box-shadow:0 0 0 2px #2c5cc5;box-shadow:0 0 0 2px #2c5cc5}.has-focus .input-container.error{border-color:#d72d30;-webkit-box-shadow:none;box-shadow:none}.has-focus .input-container.error.has-focus{-webkit-box-shadow:none;box-shadow:none;border-color:#d72d30}.has-focus .input-container.error:hover,.has-focus .input-container.error:focus{border-color:#d72d30}.has-focus .input-container.error+.help-block{color:#d72d30}.has-focus .input-container.warning{border-color:#f8ab59;-webkit-box-shadow:0 0 0 1px #f8ab59;box-shadow:0 0 0 1px #f8ab59}.has-focus .input-container.warning.has-focus{-webkit-box-shadow:none;box-shadow:none;border-color:#f8ab59}.has-focus .input-container.warning:hover,.has-focus .input-container.warning:focus{border-color:#f8ab59}.has-focus .input-container.warning+.help-block{color:#f8ab59}.select-container{-webkit-margin-after:var(--fw-select-margin-bottom, 0px);margin-block-end:var(--fw-select-margin-bottom, 0px);width:inherit;height:inherit;position:relative}.select-container .dropdown{z-index:99}.select-container .dropdown-status-icon{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;-webkit-margin-end:8px;margin-inline-end:8px;min-width:20px;min-height:20px;-webkit-transition:all 0.15s;transition:all 0.15s;--icon-color:$color-elephant-800}.select-container .help-block{font-size:12px;-webkit-margin-before:4px;margin-block-start:4px;line-height:20px;color:#acb6be;position:inherit;-webkit-margin-after:0;margin-block-end:0;display:block;-webkit-padding-start:2px;padding-inline-start:2px}:host(:not([dir="rtl"])) .select-container .dropdown-status-icon.expanded,:host([dir="ltr"]) .select-container .dropdown-status-icon.expanded{-webkit-transform:rotate(180deg);transform:rotate(180deg)}:host([dir="rtl"]) .select-container .dropdown-status-icon.expanded{-webkit-transform:rotate(-180deg);transform:rotate(-180deg)}.select-container .dropdown-status-icon.disabled{opacity:0.5}.select-container.error{border-color:#d72d30}.select-container.error.has-focus{-webkit-box-shadow:none;box-shadow:none;border-color:#d72d30}.select-container.error:hover,.select-container.error:focus{border-color:#d72d30}.select-container.error+.help-block{color:#d72d30}.select-container.warning{border-color:#f8ab59}.select-container.warning.has-focus{-webkit-box-shadow:none;box-shadow:none;border-color:#f8ab59}.select-container.warning:hover,.select-container.warning:focus{border-color:#f8ab59}.select-container.warning+.help-block{color:#f8ab59}::-webkit-input-placeholder{color:#92a2b1;opacity:1}::-moz-placeholder{color:#92a2b1;opacity:1}:-ms-input-placeholder{color:#92a2b1;opacity:1}::-ms-input-placeholder{color:#92a2b1;opacity:1}::placeholder{color:#92a2b1;opacity:1}::-webkit-input-placeholder{color:#92a2b1}::-moz-placeholder{color:#92a2b1}:-ms-input-placeholder{color:#92a2b1}:-moz-placeholder{color:#92a2b1}';const ut=class{constructor(s){t(this,s),this.fwClosed=i(this,"fwClosed",7),this.disabled=!1,this.variant="standard",this.graphicsProps={},this.closable=!0,this.focusable=!0,this.state="normal",this.isFocused=!1,this.index="-1",this.showEllipsisOnOverflow=!1,this.addTooltip=!1,this.removeTag=t=>{if(this.disabled||!this.closable)return;const{value:i,text:s,index:e}=this;this.fwClosed.emit({value:i,text:s,index:e}),t.stopPropagation()},this.componentDidRender=()=>{const t=this.divLabel;t&&!this.resizeObserver&&(this.resizeObserver=new ResizeObserver((()=>{t.offsetWidth>0&&(this.addTooltip=t.offsetWidth<t.scrollWidth)})),this.resizeObserver.observe(t))},this.removeResizeObserver=()=>{this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}}onKeyDown(t){switch(t.key){case"Backspace":this.removeTag(t),t.preventDefault()}}async setFocus(){this.tagContainer.focus()}renderText(){return[s("span",{class:{primary:!!this.subText,content:!0,"end-padding":!this.subText&&!this.closable}},this.text),this.subText&&s("span",{class:"secondary content "+(this.closable?"":"end-padding")},this.subText)]}renderLabel(){return s("div",{class:"ellipsis",ref:t=>this.divLabel=t},this.renderText())}renderTruncatedContent(){return s("div",{class:"truncated-content"},this.addTooltip?s("fw-tooltip",{trigger:"hover",content:`${this.text}${this.subText?` ${this.subText}`:""}`,hoist:!0},this.renderLabel()):this.renderLabel())}renderContent(){switch(this.variant){case"standard":return this.showEllipsisOnOverflow?this.renderTruncatedContent():this.renderText();case"avatar":return[s("fw-avatar",Object.assign({mode:"error"===this.state?this.state:"dark",size:"xsmall"},this.graphicsProps)),this.showEllipsisOnOverflow?this.renderTruncatedContent():this.renderText()]}}disconnectedCallback(){this.removeResizeObserver()}render(){return s("div",{role:"button",tabindex:"-1",class:`tag ${this.isFocused?"focused":""} ${this.state} tag-${this.variant} ${this.disabled?"disabled":""} ${this.showEllipsisOnOverflow?"tag-with-ellipsis":""}`,ref:t=>this.tagContainer=t},this.renderContent(),this.closable&&s("span",{role:"button",tabIndex:this.focusable?0:-1,class:`remove-btn ${this.variant} ${this.disabled?"disabled":""}`,onClick:t=>this.removeTag(t),onKeyDown:c(this.removeTag)},s("fw-icon",{name:"cross",size:8,library:"system"})))}get host(){return e(this)}};ut.style=':host{font-family:var(--fw-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", roboto, oxygen, ubuntu, cantarell, "Open Sans", "Helvetica Neue", sans-serif);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-box-sizing:border-box;box-sizing:border-box}.tag{min-width:inherit;display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;color:#12344d;font-size:12px;word-break:break-all}.tag:hover{outline:1px solid #b1bdc8}.tag:focus{outline:2px solid #2c5cc5}.tag.disabled{outline:0px !important}.tag.focused{outline:2px solid #2c5cc5 !important}.tag.transparent{outline:none !important;background:transparent !important}.tag.tag-with-ellipsis{display:-ms-flexbox;display:flex;min-width:0}.tag.error{outline:1px solid #c82124;background:#ffecf0 !important}.tag.error:hover{background:#ffd0d6 !important}.tag.error:focus{outline:2px solid #2c5cc5}.tag .content{line-height:20px;vertical-align:middle}.tag .ellipsis{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.tag .truncated-content{min-width:inherit}.tag .end-padding{-webkit-padding-end:8px;padding-inline-end:8px}.tag .primary{font-weight:600}.tag .secondary{-webkit-padding-start:8px;padding-inline-start:8px;font-weight:400 !important}.tag-standard{-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-after:2px;padding-block-end:2px;-webkit-padding-end:2px;padding-inline-end:2px;-webkit-padding-before:2px;padding-block-start:2px;border-radius:4px;font-weight:600;background-color:#ebeff3}.tag-avatar{padding:4px;border-radius:24px}:host(:not([dir="rtl"])) .tag-avatar,:host([dir="ltr"]) .tag-avatar{background:-webkit-gradient(linear, left top, left bottom, color-stop(2.56%, #f5f7f9), color-stop(95.75%, #f3f5f7));background:linear-gradient(180deg, #f5f7f9 2.56%, #f3f5f7 95.75%)}:host([dir="rtl"]) .tag-avatar{background:-webkit-gradient(linear, left top, left bottom, color-stop(2.56%, #f5f7f9), color-stop(95.75%, #f3f5f7));background:linear-gradient(-180deg, #f5f7f9 2.56%, #f3f5f7 95.75%)}.tag-avatar fw-avatar{-webkit-margin-end:8px;margin-inline-end:8px}.tag .remove-btn{-webkit-margin-start:8px;margin-inline-start:8px;display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;color:#264966;font-size:16px}.tag .remove-btn.standard{min-height:20px;min-width:20px;border-radius:4px}.tag .remove-btn.avatar{min-height:24px;min-width:24px;border-radius:16px}.tag .remove-btn.avatar:hover,.tag .remove-btn.avatar:focus{background-color:#fff;cursor:pointer}.tag .remove-btn:hover,.tag .remove-btn:focus{background-color:#cfd7df;cursor:pointer}.tag .remove-btn.disabled{color:#447093;background-color:#ebeff3;cursor:not-allowed}';export{f as fw_list_options,ct as fw_select,ut as fw_tag}